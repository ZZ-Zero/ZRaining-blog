title: parcel踩坑排雷
date: 2018-02-09 18:15:37
tags: 
  - parcel
categories:
  - 技术篇
---

\_(:з」∠)\_公司最近好动荡……，折腾了一年了，部门方向貌似又出现了调动。

具体就不多说了，总之来了个新任务，就是这里的所有活动页以后需要接入公司的发布系统。

以前由于部门需求零散，需求变动快速等原因。页面基本都是开发人员各自使用自己的技术栈，然后有时候需要相互协助的时候就直接把代码丢给该需求的开发负责人，负责人根据自己需要把队友的代码改造融入自己的代码中。上线则直接在自己的开发机上编译后ftp上传上线。

现在部门为了规范化开发流程，将编译和发布流程放到了线上的发布机。由于部门的特殊性质（需求快切杂），无法完全统一开发模块，故决定将package.json留在前端手中。前端通过git发布代码，发布机收到后预先执行一遍install安装所需模块，再进行之后的编译。

